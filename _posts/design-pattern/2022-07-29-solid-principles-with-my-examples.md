---
title: "SOLID ì›ì¹™, ì§ì ‘ ì˜ˆì œ ë§Œë“¤ì–´ ì´í•´í•˜ê¸°"
categories:
  - Computer-Science
  - Design-Pattern
tags:
  - solid
  - ood
---

> ì˜¨ë¼ì¸ ìˆì´ë¼ëŠ” ìµìˆ™í•œ ë„ë©”ì¸ìœ¼ë¡œ SOLID ì›ì¹™ì˜ ì˜ˆì œë¥¼ ë§Œë“¤ì–´ ë³´ì•˜ë‹¤. ê°ê°ì˜ ì›ì¹™ì„ ì „ì œ ì¡°ê±´, ì›ì¹™ì„ ìœ„ë°°í•˜ëŠ” ì„¤ê³„, ì›ì¹™ì„ ë§Œì¡±í•˜ëŠ” ì„¤ê³„ë¡œ ë‚˜ëˆ„ì–´ ì„¤ëª…í•´ë³´ì•˜ë‹¤.

> ë‹µë‹µí•´ì„œ ì§ì ‘ ë§Œë“  ì˜ˆì œğŸ¤“ í˜¹ì‹œ í‹€ë¦° ë¶€ë¶„, ê°œì„ í•  ë¶€ë¶„ì´ ìˆë‹¤ë©´ ëŒ“ê¸€ ë‚¨ê²¨ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤. ('-')(,_,)
{: .prompt-warning}

# ê°œìš”
Clean Codeì˜ ì €ìë¡œ ì˜ ì•Œë ¤ì§„ Robert C. Martinì´ 2000ë…„ë„ ê·¸ì˜ ë…¼ë¬¸ "Design Principles and Design Patterns"ì— ì†Œê°œí•œ ê°œë…ì´ë‹¤. í›„ì— Michael Feathersê°€ ê° ì›ì¹™ì˜ ì²« ê¸€ìë¥¼ ë”°ì„œ `SOLID`ë¼ëŠ” ëª…ì¹­ì„ ë§Œë“¤ì—ˆëŠ”ë°, Robert C. Martinë„ ì´ë¦„ì´ ìˆìœ¼ë‹ˆ ëŒ€ë‹¨í•œ ì›ì¹™ì²˜ëŸ¼ ëŠê»´ì§„ë‹¤ë©° `SOLID`ë¼ê³  ë¶€ë¥´ê¸° ì‹œì‘í–ˆë‹¤.

SOLID ì›ì¹™ì€ OOD(Object Oriented Design)ë¥¼ ìœ„í•œ ê°œë…ì´ë‹¤. ì´ ì›ì¹™ì„ ë”°ë¥´ë©´ ê°€ë…ì„±ê³¼ í™•ì¥ì„±ì´ ì¢‹ê³  ìœ ì—°í•˜ë©° ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ìš´ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì„¤ê³„í•  ìˆ˜ ìˆë‹¤. SOLIDë¥¼ êµ¬ì„±í•˜ëŠ” ê°ê°ì˜ ì›ì¹™ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

- S: Single Responsibility Principle(SRP)
- O: Open Closed Principle(OCP)
- L: Liskov Substitution Principle(LSP)
- I: Interface Segragation Principle(ISP)
- D: Dependency Inversion Principle(DIP)

ì°¸ê³ ë¡œ "Design Principles and Design Patterns"ì—ì„œëŠ” ë¬´ìŠ¨ ì˜ë¬¸ì¸ì§€ ë‹¨ì¼ ì±…ì„ ì›ì¹™ì— ëŒ€í•œ ë‚´ìš©ì„ ì°¾ì„ ìˆ˜ ì—†ì—ˆë‹¤. í•˜ì§€ë§Œ Robert C. Martinì˜ í•œ [ê°•ì—°](https://www.youtube.com/watch?v=TMuno5RZNeE)ì„ ë³´ë©´ ê·¸ê°€ ë‹¨ì¼ ì±…ì„ ì›ì¹™ì— ëŒ€í•´ ì„¤ëª…í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

# Single Responsibility Principle(SRP, ë‹¨ì¼ ì±…ì„ ì›ì¹™)
> *A class should have one and only one reason to change.*   
í´ë˜ìŠ¤ëŠ” ë³€ê²½ë˜ì–´ì•¼ í•  ë‹¨ í•˜ë‚˜ì˜ ì´ìœ ë§Œì„ ê°€ì ¸ì•¼ í•œë‹¤.
{: .prompt-info}

## ì „ì œ ìƒí™©
```
|------|        |-------------|
| Shop |------> |    Order    |
|------|        |-------------|
                | + ship()    |
                | + cancel()  |
                | + retour()  |
                |-------------|
```

- `Order` í´ë˜ìŠ¤ëŠ” ë°°ì†¡(`ship()`), ì£¼ë¬¸ ì·¨ì†Œ(`cancel()`), ë°˜í’ˆ(`retour()`)ì˜ ë©”ì„œë“œë¥¼ ê°€ì§€ê³  ìˆë‹¤.

## ì›ì¹™ ìœ„ë°°
í•˜ë‚˜ì˜ í´ë˜ìŠ¤ê°€ ì„¸ ê°œì˜ ì±…ì„ì„ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ìœ„ë°°í•œë‹¤.


## ì›ì¹™ ë§Œì¡±
```
                                           |------------------|
                                           | CancelDepartment |
                                       |---|------------------|
                                       |   | + cancel()       |
|------|        |-------------| <------|   |------------------|
| Shop |------> |    Order    |
|------|        |-------------| <------|   |------------------|
                | + ship()    |        |---| RetourDepartment |
                |-------------|            |------------------|
                                           | + retour()       |
                                           |------------------|
```
ì±…ì„ì„ ë¶„ì‚°ì‹œì¼œ í‘œí˜„í•œë‹¤. (âš ï¸ ë‹¨ì¼ ì±…ì„ ì›ì¹™ë§Œ ì ìš©í–ˆê¸° ë•Œë¬¸ì— ìµœì„ ì˜ ì„¤ê³„ê°€ ì•„ë‹ˆë‹¤.) ì´ì œ ë°˜í’ˆ ì •ì±…ì— ë°”ë€Œë©´ `RetourDepartment` í´ë˜ìŠ¤ì—ë§Œ ë³€ê²½ì´ ì¼ì–´ë‚œë‹¤.

# Open Closed Principle(OCP, ê°œë°© íì‡„ ì›ì¹™)

> *A module should be open for extension but closed for modification.*  
ëª¨ë“ˆì€ í™•ì¥ì—ëŠ” ì—´ë ¤ ìˆê³ , ë³€ê²½ì—ëŠ” ë‹«í˜€ìˆì–´ì•¼ í•œë‹¤.
{: .prompt-info}

OODì˜ ëª¨ë“  ì›ì¹™ë“¤ì„ í†µí‹€ì–´ ê°€ì¥ ì¤‘ìš”í•œ ì›ì¹™ì´ë‹¤. **ëª¨ë“ˆì˜ ì†ŒìŠ¤ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë©´ì„œ ëª¨ë“ˆì´ í•˜ëŠ” ì¼ì„ ë³€ê²½í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.** ëª¨ìˆœ ê°™ì•„ ë³´ì´ì§€ë§Œ **ì¶”ìƒí™”(abstraction)**ë¥¼ ì´ìš©í•˜ë©´ ì‹¤í˜„ ê°€ëŠ¥í•˜ë‹¤.

## ì „ì œ ìƒí™©
```
|------|        |----------------------|   |-----------------|
| Shop |------> |        Order         |   | <<enumeration>> |
|------|        |----------------------|   |   ShippingType  |
                | - type: ShippingType |   |-----------------|
                |----------------------|   | + DOMESTIC      |
                | + ship()             |   | + INTERNATIONAL |
                | + cancel()           |   |-----------------|
                | + retour()           |
                |----------------------| 
                   ^                ^      
                   |                |      
            |----------|     |---------------|
            | DOMESTIC |     | INTERNATIONAL |
            |  ORDER   |     |     ORDER     |
            |----------|     |---------------|                
```

```
public class Order {
  private ShippingType type;
  ...
  public void ship() {
    if (type == ShippingType.DOMESTIC) {
      // Domestic shipping policy
    } else if (type == ShippingType.INTERNATIONAL) {
      // International shipping policy
    }
  }
  ...
}
```
- `Order` í´ë˜ìŠ¤ëŠ” ë°°ì†¡ íƒ€ì…(`ShippingType`)ì„ ë³€ìˆ˜ë¡œ ê°€ì§€ê³  ìˆë‹¤.
- í˜„ì¬ ë°°ì†¡ íƒ€ì…ì—ëŠ” êµ­ë‚´(`DOMESTIC`)ì™€ êµ­ì œ(`INTERNATIONAL`)ê°€ ìˆë‹¤.
- ê°™ì€ ëŒ€ë¥™ ë‚´ ë°°ì†¡ì— ëŒ€í•´ ë³„ë„ì˜ ë°°ì†¡ ì •ì±…ì„ ì ìš©í•˜ê¸° ìœ„í•´ ëŒ€ë¥™(`CONTINENTAL`)ì„ ì¶”ê°€í•˜ë ¤ê³  í•œë‹¤.
- ë°°ì†¡ íƒ€ì…ì— ë”°ë¼ ì ìš©ë˜ëŠ” ë°°ì†¡ ì •ì±…ì´ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ë°°ì†¡ ì²˜ë¦¬ ë©”ì„œë“œ(`ship()`)ì—ì„œ ifë¬¸ìœ¼ë¡œ êµ¬ë¶„ì§€ì–´ í‘œí˜„í•˜ì˜€ë‹¤.

## ì›ì¹™ ìœ„ë°°
```
|------|        |----------------------|   |-----------------|
| Shop |------> |         Order        |   | <<enumeration>> |
|------|        |----------------------|   |   ShippingType  |
                | - type: ShippingType |   |-----------------|
                |----------------------|   | + DOMESTIC      |
                | + ship()             |   | + INTERNATIONAL |
                | + cancel()           |   | + CONTINENTAL   |
                | + retour()           |   |-----------------|
                |----------------------|
                     ^      ^      ^               
           |---------|      |      |-------|         
           |                |              |         
      |----------|  |---------------| |-------------|      
      | DOMESTIC |  | INTERNATIONAL | | CONTINENTAL |
      |  ORDER   |  |     ORDER     | |    ORDER    |
      |----------|  |---------------| |-------------|
```
```
public class Order {
  private ShippingType type;
  ...
  public void ship() {
    if (type == ShippingType.DOMESTIC) {
      // Domestic shipping policy
    } else if (type == ShippingType.INTERNATIONAL) {
      // International shipping policy
    } else if (type == ShippingType.CONTINENTAL) {
      // Continental shipping policy
    }
  }
  ...
}
```
ìš”êµ¬ ì‚¬í•­ì„ ë°˜ì˜í•˜ê¸° ìœ„í•´ `ShippingType`ì— ëŒ€ë¥™ í•„ë“œë¥¼ ì¶”ê°€í•˜ê³ , ë°°ì†¡ ë©”ì„œë“œ(`ship()`)ì— ifë¬¸ì„ ì¶”ê°€í•˜ì˜€ë‹¤.

ê°œë°© íì‡„ ì›ì¹™ì„ ë§Œì¡±í•˜ë ¤ë©´ ë°°ì†¡ íƒ€ì…ì´ ì¶”ê°€ë˜ì—ˆì„ ë•Œ, ê¸°ì¡´ì˜ ì†ŒìŠ¤ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  í™•ì¥í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ì´ ê°€ëŠ¥í•´ì•¼í•œë‹¤. í•˜ì§€ë§Œ ìœ„ì˜ ì„¤ê³„ì—ì„œëŠ” ë°°ì†¡ íƒ€ì…ì´ ì¶”ê°€ë  ë•Œë§ˆë‹¤ `ship()` ë©”ì„œë“œì— ë³€ê²½ì´ ë°œìƒí•˜ë¯€ë¡œ ê°œë°© íì‡„ ì›ì¹™ì„ ìœ„ë°°í•œë‹¤.

## ì›ì¹™ ë§Œì¡±
```
                |---------------| 
|------|        | <<interface>> |   
| Shop |------> |     Order     |  
|------|        |---------------|  
                | + ship()      |   
                | + cancel()    |   
                | + retour()    |   
                |---------------|
                   ^    ^    ^        
        |----------|    |    |-----------| 
        |               |                |
  |----------|  |---------------| |-------------|     
  | DOMESTIC |  | INTERNATIONAL | | CONTINENTAL |
  |  ORDER   |  |     ORDER     | |    ORDER    |
  |----------|  |---------------| |-------------|

```


```
public interface Order {
  void ship();
  void cancel();
  void retour();
}

public class DomesticOrder implements Order {
    ...
    @Override
    public void processOrder() {
        // Domestic shipping policy
    }
}

public class InternationalOrder implements Order {
    ...
    @Override
    public void processOrder() {
        // International shipping policy
    }
}

public class ContinentalOrder implements Order {
    ...
    @Override
    public void processOrder() {
        // Continental shipping policy
    }
}
```

`Order` ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  ë°°ì†¡ íƒ€ì…ì— ë”°ë¥¸ ê°ê°ì˜ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„(`implements`)í•˜ì˜€ë‹¤. ê° í´ë˜ìŠ¤ì—ì„œ `ship()` ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”© í•´ì„œ ë°°ì†¡ ì •ì±…ì„ ê°ê° ì ìš©í•˜ì˜€ë‹¤. ì´ì œ ìƒˆë¡œìš´ ë°°ì†¡ íƒ€ì…ì´ ì¶”ê°€ë˜ë”ë¼ë„ ê¸°ì¡´ì˜ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  ìƒˆë¡œ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í™•ì¥ì´ ê°€ëŠ¥í•˜ê²Œ ë˜ì—ˆë‹¤. 


# Liskov Substitution Principle(LSP, ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™)

> *Subclasses should be substitutable for their base classes.*   
í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ìƒìœ„ í´ë˜ìŠ¤ë¥¼ ëŒ€ì²´í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
{: .prompt-info}

```
|------|        |-------|
| Shop |------> | Order |
|------|        |-------|
                    ^
                    |
              |--------------|    
              | OrderDerived |
              |--------------|
```
`Shop`ì´ `Order` í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê³ , `OrderDerived`ëŠ” `Order`ë¡œë¶€í„° íŒŒìƒëœ ê²ƒì„ í‘œí˜„í•œ ë‹¤ì´ì–´ê·¸ë¨ì´ë‹¤. ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ì„ ë§Œì¡±í•˜ë ¤ë©´ `Order`ê°€ `OrderDerived`ë¡œ ëŒ€ì²´ë˜ë”ë¼ë„ `Shop`ì€ ì •ìƒ ê¸°ëŠ¥í•´ì•¼í•œë‹¤.

ìƒì† ê´€ê³„ì—ì„œëŠ” ìì‹ í´ë˜ìŠ¤ê°€ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ëª¨ë“  ê²ƒì„ ìƒì† ë°›ê¸° ë•Œë¬¸ì— ë‹¹ì—°í•˜ë‹¤ê³  ìƒê°í•  ìˆ˜ë„ ìˆì§€ë§Œ ê³ ë ¤í•´ì•¼í•  ë¬¸ì œê°€ ìˆë‹¤. ë°”ë¡œ Circle/Ellipse Dilemmaì´ë‹¤.

## Circle/Ellipse Dilemma(ì›ê³¼ íƒ€ì› ë”œë ˆë§ˆ)
> `is a` ê´€ê³„ì— ë†“ì¸ ë‘ ê°ì²´ë¥¼ ëª¨ë¸ë§í•  ë•Œ ë°œìƒí•˜ëŠ” ë”œë ˆë§ˆë¡œ, Square/Rectangle Dilemma(ì‚¬ê°í˜•ê³¼ ì§ì‚¬ê°í˜• ë”œë ˆë§ˆ)ë¼ê³ ë„ ë¶€ë¥¸ë‹¤.

`ëª¨ë“  ì›ì€ íƒ€ì›ì´ë‹¤`. ì›ì€ ë‘ ì´ˆì ì´ ê°™ì€ íƒ€ì›ì´ê¸° ë•Œë¬¸ì— ì›ì€ íƒ€ì›ì— ì†í•œë‹¤ê³  ë§í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ ìƒì† ê´€ê³„ë¡œ ë‚˜íƒ€ë‚´ë©´ ì•„ë˜ì˜ ë‹¤ì´ì–´ê·¸ë¨ê³¼ ê°™ë‹¤.

```
|---------|
| Ellipse |
|---------|
     ^
     |
|--------|
| Circle |
|--------|     
```

íƒ€ì›ì„ ì•„ë˜ì™€ ê°™ì´ ì •ì˜í–ˆë‹¤ê³  ê°€ì •í•´ë³¸ë‹¤.
```
|-------------------------------|
|  Ellipse                      |
|-------------------------------|
| - fociA: Point                |
| - fociB: Point                |
| - majorAxis: Double           |
|-------------------------------|
| + getFociA(): Point           |
| + getFociB(): Point           |
| + getMajorAxis(): Double      |
| + setFoci(a: Point, b: Point) |
| + setMajorAxis(axis: Double)  |
|-------------------------------|
```

ì›ì€ íƒ€ì›ì„ ìƒì†í•˜ê¸° ë•Œë¬¸ì— ì´ˆì ì´ í•œ ê°œë§Œ í•„ìš”í•¨ì—ë„ ë¶ˆêµ¬í•˜ê³  ì´ˆì  ë³€ìˆ˜ ë‘ ê°œë¥¼ ê°€ì§€ê²Œ ëœë‹¤. ì˜¤ë²„í—¤ë“œë¥¼ ê°ìˆ˜í•œë‹¤ë©´ ì›ì˜ `setFoci(Point a, Point b)` ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©í•´ì„œ ë‘ ê°œì˜ ì´ˆì ì´ ê°™ì€ ê°’ì„ ê°€ì§€ë„ë¡ ìˆ˜ì •í•˜ë©´ íƒ€ì›ì„ ìƒì†í•˜ë©´ì„œ ì›ìœ¼ë¡œì¨ ê¸°ëŠ¥í•˜ë„ë¡ êµ¬í˜„í•  ìˆ˜ëŠ” ìˆë‹¤.
```
void Ellipse::SetFoci(const Point& a, const Point& b)
{
  itsFocusA = a;
  itsFocusB = b;
}

// Override
void Circle::SetFoci(const Point& a, const Point& b)
{
  itsFocusA = a;
  itsFocusB = a;
}
```

`Ellipse`ë¥¼ ì´ìš©í•œ ë‹¤ìŒ í•¨ìˆ˜ë¥¼ í†µí•´ ìœ„ì˜ ì›ê³¼ íƒ€ì›ì˜ ì„¤ê³„ê°€ ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ì„ ë§Œì¡±í•˜ëŠ”ì§€ ìƒê°í•´ë³¸ë‹¤.
```
void f(Ellipse& e)
{
  Point a(-1,0);
  Point b(1,0);
  e.setFoci(a,b);
  e.setMajorAxis(3);
  assert(e.getFociA() == a);
  assert(e.getFociB() == b);
  assert(e.getMajorAxis() == 3);
}
```
ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ì„ ë§Œì¡±í•˜ë ¤ë©´ `Ellipse`ë¥¼ `Circle`ë¡œ ë°”ê¿¨ì„ ë•Œ í•¨ìˆ˜ê°€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•´ì•¼í•œë‹¤. í•˜ì§€ë§Œ `Circle`ë¡œ ë°”ê¾¸ë©´ ë‘ ë²ˆì§¸ assertë¬¸ì¸ `assert(e.getFociB() == b)`ì—ì„œ ì—ëŸ¬ê°€ ë‚œë‹¤. 

ì¦‰, **ìƒì† ê´€ê³„ì— ìˆë‹¤ê³  í•´ì„œ í•­ìƒ ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ì´ ë§Œì¡±ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.** ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ì„ ë§Œì¡±í•˜ê¸° ìœ„í•´ì„œ ìì‹ í´ë˜ìŠ¤ëŠ” ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ëª…ì„¸ë¥¼ ë°˜ë“œì‹œ ì§€ì¼œì•¼í•œë‹¤. ìœ„ì˜ ì˜ˆì‹œì—ì„œëŠ” `Circle`ì´ `Ellipse`ì˜ "ì´ˆì ì€ ë‘ ê°œì´ë‹¤."ë¼ëŠ” ëª…ì„¸ë¥¼ ì§€í‚¤ì§€ ì•Šì•˜ë‹¤. ëª…ì„¸ì—ì„œ ë‹¤ìŒ ë‘ ê°€ì§€ ì¡°ê±´ì´ ì¶©ì¡±ë˜ë©´ ìƒì† ê´€ê³„ì—ì„œ ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ì´ ë§Œì¡±ëœë‹¤ê³  í•  ìˆ˜ ìˆë‹¤.

1. ìì‹ í´ë˜ìŠ¤ì˜ ì„ í–‰ ì¡°ê±´(precondition)ì´ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë³´ë‹¤ ê°•í•˜ì§€ ì•Šë‹¤.
2. ìì‹ í´ë˜ìŠ¤ì˜ í›„í–‰ ì¡°ê±´(postcondition)ì´ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë³´ë‹¤ ì•½í•˜ì§€ ì•Šë‹¤.

*\*ì„ í–‰ ì¡°ê±´(precondition): ë©”ì„œë“œê°€ í˜¸ì¶œë˜ê¸° ì „ì— ì°¸ì´ì–´ì•¼ í•˜ëŠ” ê²ƒ*  
*\*í›„í–‰ ì¡°ê±´(postcondition): ë©”ì„œë“œê°€ ì™„ë£Œëœ í›„ì— ì°¸ì´ì–´ì•¼ í•˜ëŠ” ê²ƒ*


ìœ„ì˜ í•¨ìˆ˜ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•˜ë©´ ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ì„ ë§Œì¡±í•˜ê²Œ ë§Œë“¤ ìˆ˜ëŠ” ìˆë‹¤. í•˜ì§€ë§Œ ì†ŒìŠ¤ ì½”ë“œì˜ ë³€ê²½ì€ ë˜ ë‹¤ì‹œ ê°œë°© íì‡„ ì›ì¹™ì„ ìœ„ë°˜í•˜ê²Œ í•œë‹¤. ì¦‰, **ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ì›ì¹™ì˜ ìœ„ë°˜ì€ ê³§ ê°œë°© íì‡„ ì›ì¹™ì˜ ìœ„ë°˜ìœ¼ë¡œ ì´ì–´ì§„ë‹¤.**
```
void f(Ellipse& e)
{
  if (typeid(e) == typeid(Ellipse)) {
    Point a(-1,0);
    Point b(1,0);
    e.setFoci(a,b);
    e.setMajorAxis(3);
    assert(e.getFociA() == a);
    assert(e.getFociB() == b);
    assert(e.getMajorAxis() == 3);
  }
  else {
    throw NotAnEllipse(e);
  }
}
```


# Interface Segragation Principle(ISP, ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™)

> *Many client specific interfaces are better than one general purpose interface.*   
íŠ¹ì • í´ë¼ì´ì–¸íŠ¸ë§Œì„ ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ ì—¬ëŸ¬ ê°œê°€ í•˜ë‚˜ì˜ ë²”ìš© ì¸í„°í˜ì´ìŠ¤ë³´ë‹¤ ë‚«ë‹¤.
{: .prompt-info}


## ì „ì œ ìƒí™©
```
|--------|
| Shop A |------|        |---------------|
|--------|      |------> | <<interface>> |   
                         |     Order     |
                |        |---------------|
|--------|      |------> | + ship()      |
| Shop B |------|        | + cancel()    |    
|--------|               | + detour()    |
                         |---------------|
```
- `Shop A`ì™€ `Shop B` ëª¨ë‘ `Order` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ì‚¬ìš©í•˜ê³  ìˆë‹¤. 
- `Shop A`ê°€ ì˜ˆì•½ ë°°ì†¡(`schedule()`) ê¸°ëŠ¥ ì¶”ê°€ë¥¼ ìš”êµ¬í–ˆë‹¤. 
- `Shop B`ëŠ” ì˜ˆì•½ ë°°ì†¡ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.

## ì›ì¹™ ìœ„ë°°
```
|--------|
| Shop A |------|        |---------------|
|--------|      |------> | <<interface>> |
                         |     Order     |
                |        |---------------|
|--------|      |------> | + ship()      |
| Shop B |------|        | + cancel()    |    
|--------|               | + detour()    |
                         | + schedule()  |
                         |---------------|
```
Order ì¸í„°í˜ì´ìŠ¤ì— schedule() ë©”ì„œë“œë¥¼ ì¶”ê°€í•´ ìš”êµ¬ ì‚¬í•­ì„ ë°˜ì˜í–ˆë‹¤. ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬ ì›ì¹™ì„ ë§Œì¡±í•˜ë ¤ë©´ **ì¸í„°í˜ì´ìŠ¤ëŠ” í´ë¼ì´ì–¸íŠ¸ë¡œ í•˜ì—¬ê¸ˆ ë¶ˆí•„ìš”í•œ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ë„ë¡ ê°•ìš”í•˜ì§€ ì•Šì•„ì•¼í•œë‹¤.** í•˜ì§€ë§Œ ìœ„ì˜ ì˜ˆì œì—ì„œ `Shop B`ëŠ” ì˜ˆì•½ ë°°ì†¡ ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠìŒì—ë„ ë¶ˆêµ¬í•˜ê³  í•´ë‹¹ ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼í•œë‹¤.

## ì›ì¹™ ë§Œì¡±
```
                |----------------|
                | <<interface>>  |  
|--------|      |   Schedulable  |
| Shop A |------|----------------|------|     |---------------|
|--------|      | + schedule()   |      |     | <<interface>> |
                |----------------|      |---> |     Order     | 
                                              |---------------|
                                        |---> | + ship()      |
|--------|                              |     | + cancel()    |
| Shop B |------------------------------|     | + detour()    |
|--------|                                    |---------------|
                                         
```
ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì˜ ìš”êµ¬ ì‚¬í•­ì„ í•˜ë‚˜ì˜ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“œëŠ” ê²ƒë³´ë‹¤ íŠ¹ì • í´ë¼ì´ì–¸íŠ¸ë§Œì„ ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê²Œ ë˜ë”ë¼ë„ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¶„ë¦¬í•˜ì—¬ì•¼ í•œë‹¤.

# Dependency Inversion Principle(DIP, ì˜ì¡´ê´€ê³„ ì—­ì „ ì›ì¹™)

> *Depend upon Abstractions. Do not depend upon concretions.*   
êµ¬ì²´í™”ê°€ ì•„ë‹Œ ì¶”ìƒí™”ì— ì˜ì¡´í•´ì•¼í•œë‹¤.
{: .prompt-info}

ê°œë°© íì‡„ ì›ì¹™ì´ OO ì•„í‚¤í…ì²˜ì˜ ëª©í‘œë¥¼ ë‚˜íƒ€ë‚¸ë‹¤ë©´, ì˜ì¡´ê´€ê³„ ì—­ì „ ì›ì¹™ì€ ì£¼ìš” ì›ë¦¬ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ì˜ì¡´ê´€ê³„ ì—­ì „ ì›ì¹™ì€ êµ¬ì²´ì ì¸ í•¨ìˆ˜ë‚˜ í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ê¸°ë³´ë‹¤ëŠ” ì¸í„°í˜ì´ìŠ¤ë‚˜ ì¶”ìƒì  í•¨ìˆ˜, ì¶”ìƒì  í´ë˜ìŠ¤ì— ì˜ì¡´í•´ì•¼í•œë‹¤ëŠ” ê²ƒì´ë‹¤.

## ì „ì œ ìƒí™©
```
        |------|
        | Shop |
        |------|    
            |
            v
     |--------------|
     | OrderService |
     |--------------|
       |          |
       v          v
|----------|   |------|
| Domestic |   | User |
|   Order  |   |------|
|----------|     
```
```
public class OrderService {
  private DomesticOrder Order;
  private User user;

  OrderService(DomesticOrder order, User user) {
    domesticOrder = new DomesticOrder();
    user = user;
  }
}
```
- `Shop`ì´ `OrderService`ë¥¼, `OrderService`ëŠ” `DomesticOrder`ì™€ `User` í´ë˜ìŠ¤ì— ì˜ì¡´í•˜ê³  ìˆë‹¤. 
- `Shop`ì´ ì´ì œ êµ­ì œ ë°°ì†¡ì„ ì§€ì›í•´ `InternationOrder`ë¥¼ ì¶”ê°€í•´ì•¼í•œë‹¤.

## ì›ì¹™ ìœ„ë°°
```
             |------|
             | Shop |
             |------|    
                 |
                 v
          |--------------|
          | OrderService |
          |--------------|
           |    |      |
      |----|    |      |----------| 
      v         v                 v
|----------|  |---------------|  |------|
| Domestic |  | International |  | User |
|   Order  |  |     Order     |  |------|
|----------|  |---------------|
```
```
public class OrderService {
  private DomesticOrder domesticOrder;
  private InternationalOrder internationalOrder;
  private User user;

  OrderService(DomesticOrder domesticOrder, User user) {
    domesticOrder = new DomesticOrder();
    internationalOrder = null;
    user = user;
  }

  OrderService(InternationalOrder internationalOrder, User user) {
    internationalOrder = new InternationalOrder();
    domesticOrder = null;
    user = user;
  }
}
```
ìµœìƒìœ„ ëª¨ë“ˆ Shopì€ ì–´í”Œë¦¬ì¼€ì´ì…˜ ìƒìœ„ ì •ì±…ë“¤ì„ ë‹¤ë£¬ë‹¤. ì´ ìƒìœ„ ì •ì±…ë“¤ì€ ì¼ë°˜ì ìœ¼ë¡œ ì„¸ë¶€ êµ¬í˜„ ì‚¬í•­ì— í¬ê²Œ ê´€ì‹¬ì„ ê°–ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ìƒìœ„ ëª¨ë“ˆì´ í•˜ìœ„ ëª¨ë“ˆì— ì˜ì¡´í•˜ëŠ” ìˆœì°¨ì  ì„¤ê³„ì—ì„œëŠ” ìµœìƒìœ„ ëª¨ë“ˆì´ ì„¸ë¶€ êµ¬í˜„ ì‚¬í•­ì„ ë‹¤ë£¨ëŠ” ìµœí•˜ìœ„ì˜ ëª¨ë“ˆì— ì§ì ‘ì ìœ¼ë¡œ ì˜ì¡´í•œë‹¤.

ìš”êµ¬ ì‚¬í•­ì„ ë°˜ì˜í•œ ìœ„ ì„¤ê³„ëŠ” `OrderService`ê°€ êµ¬ì²´ì  í´ë˜ìŠ¤ì¸ `DomesticOrder`ì™€ `InternationalOrder`ì— ì§ì ‘ì ìœ¼ë¡œ ì˜ì¡´í•˜ê³  ìˆì–´ ì˜ì¡´ê´€ê³„ ì—­ì „ ì›ì¹™ì„ ìœ„ë°°í•œë‹¤.

## ì›ì¹™ ë§Œì¡±
```
              |------|
              | Shop |
              |------|    
                  |
                  v
            |--------------|
            | OrderService |
            |--------------|
               |          |
               v          v
    |---------------|    |---------------|
    | <<interface>> |    | <<interface>> |
    |     Order     |    |      User     |
    |---------------|    |---------------|
      ^          ^                   ^
      |          |                   |
|----------|  |---------------|   |------|
| Domestic |  | International |   | User |
|   Order  |  |     Order     |   |------|
|----------|  |---------------|
```
```
public interface Order() {...}

public class DomesticOrder implements Order {...}
public class InternationalOrder implements Order {...}
```
```
public class OrderService {
  private Order order;
  private User user;

  OrderService(Order order, User user) {
    order = new Order();
    user = user;
  }
}
```
`Order` ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  `DomesticOrder`ì™€ `InternationalOrder` í´ë˜ìŠ¤ì—ì„œ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤. ìƒìœ„ ëª¨ë“ˆ ë¿ë§Œ ì•„ë‹ˆë¼ í•˜ìœ„ êµ¬í˜„ í´ë˜ìŠ¤ë„ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ëŠ” ê²ƒì„ **ì˜ì¡´ê´€ê³„ì˜ ì—­ì „**ì´ë¼ê³  í‘œí˜„í•œë‹¤. (ìœ„ ë‹¤ì´ì–´ê·¸ë¨ì—ì„œ í™”ì‚´í‘œ ë°©í–¥ ì°¸ê³ )

ì˜ì¡´ê´€ê³„ë¥¼ ì—­ì „í•´ì•¼í•˜ëŠ” ì´ìœ ëŠ” ê°„ë‹¨í•˜ë‹¤. **êµ¬ì²´ì ì¸ ê²ƒì— ë¹„í•´ ì¶”ìƒì ì¸ ê²ƒì€ ë³€ê²½ì´ í›¨ì”¬ ì ê²Œ ë°œìƒ**í•˜ê³ , **ì¶”ìƒì ì¸ ê²ƒì€ ë³€ê²½ ì—†ì´ ì„¤ê³„ë¥¼ ë°”ê¾¸ëŠ” ê²ƒì´ ê°€ëŠ¥**í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ëŠ” ê³§ ê°œë°© íì‡„ ì›ì¹™ìœ¼ë¡œ ì´ì–´ì§„ë‹¤.

# ì°¸ê³ 
- <http://staff.cs.utu.fi/~jounsmed/doos_06/material/DesignPrinciplesAndPatterns.pdf>
- <https://www.baeldung.com/solid-principles>
- <https://www.youtube.com/watch?v=TMuno5RZNeE>